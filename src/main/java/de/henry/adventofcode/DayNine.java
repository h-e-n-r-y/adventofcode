package de.henry.adventofcode;


import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

/**
 * Solves the "eXchange-Masking Addition System"-Riddle of December 9th 2020.
 * https://adventofcode.com/2020
 * 
 * @author henry
 *
 */
public class DayNine {
	

	private static final String INPUT = "21\n"
			+ "10\n"
			+ "24\n"
			+ "31\n"
			+ "33\n"
			+ "15\n"
			+ "29\n"
			+ "34\n"
			+ "42\n"
			+ "13\n"
			+ "26\n"
			+ "4\n"
			+ "5\n"
			+ "6\n"
			+ "46\n"
			+ "27\n"
			+ "23\n"
			+ "39\n"
			+ "35\n"
			+ "50\n"
			+ "30\n"
			+ "1\n"
			+ "9\n"
			+ "25\n"
			+ "3\n"
			+ "7\n"
			+ "37\n"
			+ "8\n"
			+ "12\n"
			+ "44\n"
			+ "10\n"
			+ "11\n"
			+ "15\n"
			+ "20\n"
			+ "14\n"
			+ "16\n"
			+ "19\n"
			+ "4\n"
			+ "5\n"
			+ "6\n"
			+ "13\n"
			+ "17\n"
			+ "18\n"
			+ "21\n"
			+ "27\n"
			+ "22\n"
			+ "23\n"
			+ "24\n"
			+ "28\n"
			+ "9\n"
			+ "26\n"
			+ "25\n"
			+ "29\n"
			+ "30\n"
			+ "31\n"
			+ "32\n"
			+ "10\n"
			+ "33\n"
			+ "11\n"
			+ "40\n"
			+ "15\n"
			+ "34\n"
			+ "14\n"
			+ "19\n"
			+ "16\n"
			+ "37\n"
			+ "42\n"
			+ "41\n"
			+ "46\n"
			+ "36\n"
			+ "39\n"
			+ "20\n"
			+ "44\n"
			+ "21\n"
			+ "23\n"
			+ "24\n"
			+ "59\n"
			+ "53\n"
			+ "26\n"
			+ "38\n"
			+ "30\n"
			+ "25\n"
			+ "60\n"
			+ "67\n"
			+ "55\n"
			+ "29\n"
			+ "62\n"
			+ "33\n"
			+ "40\n"
			+ "43\n"
			+ "45\n"
			+ "58\n"
			+ "88\n"
			+ "97\n"
			+ "65\n"
			+ "41\n"
			+ "46\n"
			+ "47\n"
			+ "114\n"
			+ "118\n"
			+ "76\n"
			+ "51\n"
			+ "122\n"
			+ "70\n"
			+ "165\n"
			+ "54\n"
			+ "66\n"
			+ "84\n"
			+ "69\n"
			+ "72\n"
			+ "73\n"
			+ "166\n"
			+ "110\n"
			+ "164\n"
			+ "86\n"
			+ "182\n"
			+ "163\n"
			+ "159\n"
			+ "87\n"
			+ "93\n"
			+ "155\n"
			+ "97\n"
			+ "321\n"
			+ "120\n"
			+ "158\n"
			+ "105\n"
			+ "117\n"
			+ "138\n"
			+ "171\n"
			+ "123\n"
			+ "480\n"
			+ "246\n"
			+ "153\n"
			+ "141\n"
			+ "145\n"
			+ "160\n"
			+ "269\n"
			+ "179\n"
			+ "173\n"
			+ "180\n"
			+ "190\n"
			+ "243\n"
			+ "184\n"
			+ "192\n"
			+ "198\n"
			+ "202\n"
			+ "217\n"
			+ "222\n"
			+ "312\n"
			+ "228\n"
			+ "321\n"
			+ "240\n"
			+ "261\n"
			+ "440\n"
			+ "264\n"
			+ "286\n"
			+ "351\n"
			+ "294\n"
			+ "305\n"
			+ "353\n"
			+ "364\n"
			+ "352\n"
			+ "357\n"
			+ "371\n"
			+ "370\n"
			+ "374\n"
			+ "376\n"
			+ "533\n"
			+ "665\n"
			+ "400\n"
			+ "555\n"
			+ "439\n"
			+ "450\n"
			+ "468\n"
			+ "525\n"
			+ "501\n"
			+ "504\n"
			+ "746\n"
			+ "637\n"
			+ "591\n"
			+ "580\n"
			+ "599\n"
			+ "646\n"
			+ "722\n"
			+ "705\n"
			+ "709\n"
			+ "744\n"
			+ "727\n"
			+ "741\n"
			+ "1001\n"
			+ "1638\n"
			+ "776\n"
			+ "839\n"
			+ "1150\n"
			+ "850\n"
			+ "1245\n"
			+ "972\n"
			+ "918\n"
			+ "1026\n"
			+ "1757\n"
			+ "1005\n"
			+ "1084\n"
			+ "2234\n"
			+ "1413\n"
			+ "1302\n"
			+ "1179\n"
			+ "1594\n"
			+ "1746\n"
			+ "1414\n"
			+ "1468\n"
			+ "1591\n"
			+ "1471\n"
			+ "1503\n"
			+ "1517\n"
			+ "1615\n"
			+ "1689\n"
			+ "1955\n"
			+ "2184\n"
			+ "2772\n"
			+ "2783\n"
			+ "2385\n"
			+ "2476\n"
			+ "1944\n"
			+ "2031\n"
			+ "2263\n"
			+ "2386\n"
			+ "3039\n"
			+ "2647\n"
			+ "2481\n"
			+ "2985\n"
			+ "2593\n"
			+ "3209\n"
			+ "2917\n"
			+ "2882\n"
			+ "2939\n"
			+ "2974\n"
			+ "2988\n"
			+ "3458\n"
			+ "3132\n"
			+ "5019\n"
			+ "4678\n"
			+ "3899\n"
			+ "5251\n"
			+ "4910\n"
			+ "5033\n"
			+ "3975\n"
			+ "4207\n"
			+ "4294\n"
			+ "5237\n"
			+ "8491\n"
			+ "5371\n"
			+ "5564\n"
			+ "6071\n"
			+ "5074\n"
			+ "5475\n"
			+ "5510\n"
			+ "5799\n"
			+ "6049\n"
			+ "5913\n"
			+ "9929\n"
			+ "7282\n"
			+ "6120\n"
			+ "7031\n"
			+ "8653\n"
			+ "7874\n"
			+ "8193\n"
			+ "9771\n"
			+ "13524\n"
			+ "8182\n"
			+ "11274\n"
			+ "11039\n"
			+ "8501\n"
			+ "9368\n"
			+ "10311\n"
			+ "10549\n"
			+ "10445\n"
			+ "10584\n"
			+ "10873\n"
			+ "10985\n"
			+ "11388\n"
			+ "17866\n"
			+ "14702\n"
			+ "13923\n"
			+ "12033\n"
			+ "14313\n"
			+ "13151\n"
			+ "14621\n"
			+ "28236\n"
			+ "19148\n"
			+ "17561\n"
			+ "26929\n"
			+ "16683\n"
			+ "17550\n"
			+ "17869\n"
			+ "19486\n"
			+ "18812\n"
			+ "18946\n"
			+ "19679\n"
			+ "20756\n"
			+ "21833\n"
			+ "25311\n"
			+ "21457\n"
			+ "26090\n"
			+ "22373\n"
			+ "25956\n"
			+ "31304\n"
			+ "51267\n"
			+ "26654\n"
			+ "48762\n"
			+ "65580\n"
			+ "27772\n"
			+ "34244\n"
			+ "43506\n"
			+ "35419\n"
			+ "34552\n"
			+ "37229\n"
			+ "34233\n"
			+ "38306\n"
			+ "82995\n"
			+ "37758\n"
			+ "38491\n"
			+ "42213\n"
			+ "40435\n"
			+ "44206\n"
			+ "62268\n"
			+ "50145\n"
			+ "43830\n"
			+ "48329\n"
			+ "53677\n"
			+ "52610\n"
			+ "85719\n"
			+ "61206\n"
			+ "65145\n"
			+ "62005\n"
			+ "80382\n"
			+ "62016\n"
			+ "68477\n"
			+ "78439\n"
			+ "68785\n"
			+ "120753\n"
			+ "71462\n"
			+ "130493\n"
			+ "76797\n"
			+ "76249\n"
			+ "117232\n"
			+ "109351\n"
			+ "82648\n"
			+ "140707\n"
			+ "88036\n"
			+ "92159\n"
			+ "105835\n"
			+ "202712\n"
			+ "100939\n"
			+ "182632\n"
			+ "113816\n"
			+ "169724\n"
			+ "123211\n"
			+ "124021\n"
			+ "130801\n"
			+ "133478\n"
			+ "137262\n"
			+ "254523\n"
			+ "154688\n"
			+ "147711\n"
			+ "148259\n"
			+ "158897\n"
			+ "164285\n"
			+ "153046\n"
			+ "270740\n"
			+ "170684\n"
			+ "271732\n"
			+ "174807\n"
			+ "201852\n"
			+ "180195\n"
			+ "274791\n"
			+ "206774\n"
			+ "214755\n"
			+ "249198\n"
			+ "257499\n"
			+ "416396\n"
			+ "247232\n"
			+ "333241\n"
			+ "254822\n"
			+ "354898\n"
			+ "335330\n"
			+ "333704\n"
			+ "301305\n"
			+ "295970\n"
			+ "300757\n"
			+ "307156\n"
			+ "311943\n"
			+ "317331\n"
			+ "323730\n"
			+ "376659\n"
			+ "602130\n"
			+ "381581\n"
			+ "355002\n"
			+ "382047\n"
			+ "469577\n"
			+ "421529\n"
			+ "663628\n"
			+ "461987\n"
			+ "504020\n"
			+ "1125615\n"
			+ "647273\n"
			+ "561978\n"
			+ "550792\n"
			+ "717499\n"
			+ "688602\n"
			+ "852097\n"
			+ "630886\n"
			+ "596727\n"
			+ "607913\n"
			+ "612700\n"
			+ "619099\n"
			+ "931042\n"
			+ "803576\n"
			+ "974101\n"
			+ "1225606\n"
			+ "737049\n"
			+ "736583\n"
			+ "1133205\n"
			+ "1112770\n"
			+ "883516\n"
			+ "925549\n"
			+ "966007\n"
			+ "1012779\n"
			+ "1054812\n"
			+ "1220613\n"
			+ "1147519\n"
			+ "1158705\n"
			+ "1163492\n"
			+ "1204640\n"
			+ "1209427\n"
			+ "1215826\n"
			+ "1227012\n"
			+ "1231799\n"
			+ "1344496\n"
			+ "1349283\n"
			+ "1355682\n"
			+ "2086871\n"
			+ "1473632\n"
			+ "1620099\n"
			+ "1620565\n"
			+ "1662132\n"
			+ "1702590\n"
			+ "1809065\n"
			+ "2222206\n"
			+ "2084254\n"
			+ "1938328\n"
			+ "2067591\n"
			+ "3704819\n"
			+ "2281824\n"
			+ "2306224\n"
			+ "2368132\n"
			+ "2587481\n"
			+ "2372919\n"
			+ "2414067\n"
			+ "2425253\n"
			+ "3449218\n"
			+ "2458811\n"
			+ "2829314\n"
			+ "2700178\n"
			+ "2822915\n"
			+ "3322689\n"
			+ "3094197\n"
			+ "5874471\n"
			+ "3240664\n"
			+ "3558893\n"
			+ "3364722\n"
			+ "5927025\n"
			+ "5104739\n"
			+ "5646546\n"
			+ "4022582\n"
			+ "4005919\n"
			+ "4349415\n"
			+ "4588048\n"
			+ "4695891\n"
			+ "6149396\n"
			+ "4872878\n"
			+ "4786986\n"
			+ "6152003\n"
			+ "5794375\n"
			+ "10847894\n"
			+ "5917112\n"
			+ "7790088\n"
			+ "5523093\n"
			+ "5940842\n"
			+ "6063579\n"
			+ "6334861\n"
			+ "8345879\n"
			+ "6605386\n"
			+ "15720772\n"
			+ "6923615\n"
			+ "7370641\n"
			+ "10938989\n"
			+ "10310079\n"
			+ "8028501\n"
			+ "11586672\n"
			+ "8355334\n"
			+ "9375034\n"
			+ "12243519\n"
			+ "11317468\n"
			+ "9659864\n"
			+ "10395971\n"
			+ "18309630\n"
			+ "11440205\n"
			+ "11463935\n"
			+ "12251973\n"
			+ "11857954\n"
			+ "12275703\n"
			+ "12004421\n"
			+ "12398440\n"
			+ "14363362\n"
			+ "23692178\n"
			+ "13529001\n"
			+ "13976027\n"
			+ "19615173\n"
			+ "15278949\n"
			+ "35935697\n"
			+ "16383835\n"
			+ "17403535\n"
			+ "21884335\n"
			+ "17730368\n"
			+ "18015198\n"
			+ "19034898\n"
			+ "20055835\n"
			+ "34136308\n"
			+ "21100069\n"
			+ "21836176\n"
			+ "22904140\n"
			+ "23298159\n"
			+ "24133657\n"
			+ "28659538\n"
			+ "23862375\n"
			+ "24280124\n"
			+ "29734789\n"
			+ "20874512\n"
			+ "27505028\n"
			+ "28807950\n"
			+ "29254976\n"
			+ "32682484\n"
			+ "45698551\n"
			+ "31662784\n"
			+ "44335959\n"
			+ "33787370\n"
			+ "35133903\n"
			+ "53388633\n"
			+ "35745566\n"
			+ "37050096\n"
			+ "61292398\n"
			+ "42959975\n"
			+ "41974581\n"
			+ "42710688\n"
			+ "51091152\n"
			+ "51957697\n"
			+ "44172671\n"
			+ "44736887\n"
			+ "53535100\n"
			+ "72832209\n"
			+ "45154636\n"
			+ "48379540\n"
			+ "49682462\n"
			+ "56312978\n"
			+ "78456254\n"
			+ "115542897\n"
			+ "68712880\n"
			+ "65450154\n"
			+ "73637365\n"
			+ "97871059\n"
			+ "139087519\n"
			+ "70879469\n"
			+ "77720147\n"
			+ "79918237\n"
			+ "79024677\n"
			+ "94837098\n"
			+ "90354121\n"
			+ "86883359\n"
			+ "87447575\n"
			+ "105995440\n"
			+ "89327307\n"
			+ "88909558\n"
			+ "89891523\n"
			+ "93534176\n"
			+ "98062002\n"
			+ "101467614\n"
			+ "104692518\n"
			+ "121763132\n"
			+ "157622438\n"
			+ "134163034\n"
			+ "136329623\n"
			+ "139592349\n"
			+ "143170301\n"
			+ "157638384\n"
			+ "156744824\n"
			+ "148599616\n"
			+ "167047454\n"
			+ "223088538\n"
			+ "199529616\n"
			+ "242133792\n"
			+ "176357133\n"
			+ "174330934\n"
			+ "176210666\n"
			+ "185509577\n"
			+ "178236865\n"
			+ "348129232\n"
			+ "491299533\n"
			+ "310520167\n"
			+ "191596178\n"
			+ "202754520\n"
			+ "206160132\n"
			+ "300808685\n"
			+ "255926166\n"
			+ "270492657\n"
			+ "317829214\n"
			+ "275921972\n"
			+ "457421563\n"
			+ "432666796\n"
			+ "305344440\n"
			+ "326836481\n"
			+ "315647070\n"
			+ "341378388\n"
			+ "391125794\n"
			+ "481701573\n"
			+ "626167237\n"
			+ "350541600\n"
			+ "621034257\n"
			+ "659938438\n"
			+ "941814307\n"
			+ "369833043\n"
			+ "476652789\n"
			+ "394350698\n"
			+ "706772864\n"
			+ "509425392\n"
			+ "408914652\n"
			+ "462086298\n"
			+ "526418823\n"
			+ "531848138\n"
			+ "546414629\n"
			+ "581266412\n"
			+ "958354362\n"
			+ "620991510\n"
			+ "632180921\n"
			+ "642483551\n"
			+ "657025458\n"
			+ "1029771481\n"
			+ "759456252\n"
			+ "720374643\n"
			+ "1327764374\n"
			+ "876960423\n"
			+ "744892298\n"
			+ "871000950\n"
			+ "764183741\n"
			+ "1240836530\n"
			+ "778747695\n"
			+ "803265350\n"
			+ "1043352710\n"
			+ "1041273530\n"
			+ "935333475\n"
			+ "940762790\n"
			+ "1274664472\n"
			+ "1058266961\n"
			+ "1078262767\n"
			+ "1188898180\n"
			+ "1202257922\n"
			+ "1263475061\n"
			+ "1352555564\n"
			+ "1299509009\n"
			+ "1362858194\n"
			+ "1523639993\n"
			+ "1597335066\n"
			+ "1562721602\n"
			+ "1842446508\n"
			+ "1509076039\n"
			+ "1542931436\n"
			+ "1548157648\n"
			+ "1649748645\n"
			+ "1582013045\n"
			+ "1714081170\n"
			+ "2532668541\n"
			+ "1993600436\n"
			+ "1876096265\n"
			+ "2124231655\n"
			+ "1999029751\n"
			+ "2019025557\n"
			+ "2136529728\n"
			+ "2410822525\n"
			+ "2267160947\n"
			+ "3561956993\n"
			+ "2465732983\n"
			+ "2616030625\n"
			+ "2652064573\n"
			+ "2662367203\n"
			+ "3066571429\n"
			+ "3032716032\n"
			+ "3052007475\n"
			+ "3276802772\n"
			+ "3262238818\n"
			+ "3124944481\n"
			+ "3192680081\n"
			+ "3296094215\n"
			+ "3231761690\n"
			+ "6387183299\n"
			+ "3590177435\n"
			+ "5316911736\n"
			+ "3869696701\n"
			+ "3875126016\n"
			+ "4266190698\n"
			+ "4464762734\n"
			+ "4155555285\n"
			+ "4403690675\n"
			+ "4677983472\n"
			+ "4732893930\n"
			+ "5081763608\n"
			+ "5117797556\n"
			+ "7137364834\n"
			+ "5314431776\n"
			+ "5695083235\n"
			+ "6084723507\n"
			+ "6572896987\n"
			+ "6348101690\n"
			+ "6317624562\n"
			+ "6356706171\n"
			+ "6421038696\n"
			+ "7171220231\n"
			+ "12929603158\n"
			+ "6821939125\n"
			+ "10839087685\n"
			+ "8833538757\n"
			+ "7744822717\n"
			+ "8025251986\n"
			+ "8030681301\n"
			+ "8421745983\n"
			+ "8559245960\n"
			+ "12219128442\n"
			+ "13539543539\n"
			+ "11870258764\n"
			+ "12777744867\n"
			+ "10199561164\n"
			+ "11474503727\n"
			+ "11009515011\n"
			+ "25148731600\n"
			+ "11779806742\n"
			+ "14317719704\n"
			+ "12665726252\n"
			+ "14980284656\n"
			+ "12674330733\n"
			+ "19219326444\n"
			+ "14446290682\n"
			+ "13993159356\n"
			+ "14566761842\n"
			+ "14847191111\n"
			+ "16858790743\n"
			+ "15770074703\n"
			+ "17944383881\n"
			+ "25792223431\n"
			+ "16452427284\n"
			+ "18621307147\n"
			+ "18758807124\n"
			+ "31937543237\n"
			+ "22789321753\n"
			+ "21209076175\n"
			+ "22873891897\n"
			+ "22484018738\n"
			+ "24140229979\n"
			+ "27120621415\n"
			+ "48666115328\n"
			+ "24445532994\n"
			+ "25340056985\n"
			+ "31424533376\n"
			+ "26667490089\n"
			+ "37331209849\n"
			+ "28439450038\n"
			+ "46504305079\n"
			+ "28559921198\n"
			+ "33325568966\n"
			+ "30617265814\n"
			+ "32628865446\n"
			+ "34528881827\n"
			+ "95170420407\n"
			+ "39241749037\n"
			+ "35073734431\n"
			+ "45741928562\n"
			+ "55564763355\n"
			+ "45349306154\n"
			+ "49604640153\n"
			+ "44082968072\n"
			+ "46624248717\n"
			+ "46929551732\n"
			+ "48585762973\n"
			+ "49785589979\n"
			+ "96228888870\n"
			+ "53005454192\n"
			+ "59984454574\n"
			+ "129699302234\n"
			+ "59056715852\n"
			+ "56999371236\n"
			+ "59177187012\n"
			+ "61188786644\n"
			+ "61885490164\n"
			+ "63246131260\n"
			+ "65146147641\n"
			+ "67157747273\n"
			+ "69602616258\n"
			+ "74315483468\n"
			+ "79156702503\n"
			+ "80423040585\n"
			+ "89432274226\n"
			+ "90707216789\n"
			+ "91012519804\n"
			+ "98371352952\n"
			+ "111831894233\n"
			+ "93553800449\n"
			+ "95515314705\n"
			+ "105585134209\n"
			+ "106784961215\n"
			+ "110004825428\n"
			+ "112062170044\n"
			+ "128392278901\n"
			+ "148609461238\n"
			+ "116056087088\n"
			+ "122423318272\n"
			+ "120365973656\n"
			+ "136200973632\n"
			+ "125131621424\n"
			+ "134748763899\n"
			+ "132303894914\n"
			+ "197797481019\n"
			+ "154738524053\n"
			+ "186147377701\n"
			+ "172710502952\n"
			+ "169855314811\n"
			+ "197492178004\n"
			+ "181719736593\n"
			+ "248263143676\n"
			+ "207347208938\n"
			+ "201100448914\n"
			+ "189069115154\n"
			+ "202300275920\n"
			+ "212370095424\n"
			+ "226060912516\n"
			+ "264743349481\n"
			+ "228118257132\n"
			+ "236422060744\n"
			+ "314023631507\n"
			+ "352478147832\n"
			+ "305014397866\n"
			+ "255114737555\n"
			+ "257435516338\n"
			+ "279870145477\n"
			+ "267052658813\n"
			+ "287042418967\n"
			+ "351575051404\n"
			+ "324593838864\n"
			+ "383639555705\n"
			+ "458535965252\n"
			+ "358924429965\n"
			+ "486734134459\n"
			+ "571459147845\n"
			+ "589337188345\n"
			+ "429218706046\n"
			+ "390169564068\n"
			+ "391369391074\n"
			+ "493113571329\n"
			+ "438431007940\n"
			+ "454179169648\n"
			+ "714763402932\n"
			+ "464540317876\n"
			+ "491536798299\n"
			+ "713650702807\n"
			+ "618627710217\n"
			+ "537305661815\n"
			+ "995841627067\n"
			+ "524488175151\n"
			+ "546922804290\n"
			+ "881706362367\n"
			+ "638617470371\n"
			+ "1097290258512\n"
			+ "683518268829\n"
			+ "742563985670\n"
			+ "749093994033\n"
			+ "750293821039\n"
			+ "980706579419\n"
			+ "1361191695887\n"
			+ "1061793836966\n"
			+ "781538955142\n"
			+ "1240630792332\n"
			+ "855909708950\n"
			+ "892610177588\n"
			+ "902971325816\n"
			+ "1011463122166\n"
			+ "956077116175\n"
			+ "989028493027\n"
			+ "1016024973450\n"
			+ "1332278413024\n"
			+ "1071410979441\n"
			+ "1328461759432\n"
			+ "1163105645522\n"
			+ "1185540274661\n"
			+ "1230441073119\n"
			+ "2321306906051\n"
			+ "1322135739200\n"
			+ "1859048441991\n"
			+ "1426082254499\n"
			+ "1492857806709\n"
			+ "2754544013931\n"
			+ "1531832776181\n"
			+ "1918996299266\n"
			+ "1684510280958\n"
			+ "1793002077308\n"
			+ "1967079229803\n"
			+ "3207710022135\n"
			+ "1748519886538\n"
			+ "1795581503404\n"
			+ "1891999818843\n"
			+ "1945105609202\n"
			+ "1972102089625\n"
			+ "2005053466477\n"
			+ "2508882780159\n"
			+ "2755921260399\n"
			+ "2234516624963\n"
			+ "3714577802670\n"
			+ "2348645920183\n"
			+ "2507676013861\n"
			+ "2814993545909\n"
			+ "2748217993699\n"
			+ "3006646020158\n"
			+ "2918940061208\n"
			+ "3216343057139\n"
			+ "3024690582890\n"
			+ "3603506580224\n"
			+ "3280352662719\n"
			+ "4548923337707\n"
			+ "3897053285320\n"
			+ "3541521963846\n"
			+ "3544101389942\n"
			+ "3640519705381\n"
			+ "3687581322247\n"
			+ "3767683593029\n"
			+ "5754864013857\n"
			+ "3917207698827\n"
			+ "3977155556102\n"
			+ "4239570091440\n"
			+ "4990437885362\n"
			+ "4583162545146\n"
			+ "4742192638824\n"
			+ "4856321934044\n"
			+ "5096863913882\n"
			+ "6686623654237\n"
			+ "5667158054907\n"
			+ "5772908576589\n"
			+ "7085623353788\n"
			+ "6896095617310\n"
			+ "6241033640029\n"
			+ "6305043245609\n"
			+ "7177405948039\n"
			+ "7441154675262\n"
			+ "7311784982971\n"
			+ "7231682712189\n"
			+ "7182041669227\n"
			+ "7184621095323\n"
			+ "7557727404208\n"
			+ "9839056552706\n"
			+ "14489190931010\n"
			+ "7894363254929\n"
			+ "8156777790267\n"
			+ "11542945588281\n"
			+ "15597932465529\n"
			+ "12752781408695\n"
			+ "9325355183970\n"
			+ "10764021968789\n"
			+ "9953185847926\n"
			+ "10869772490471\n"
			+ "11440066631496\n"
			+ "11972201300516\n"
			+ "18658385223718\n"
			+ "12546076885638\n"
			+ "13137129257339\n"
			+ "13798761044237\n"
			+ "13616828228580\n"
			+ "17219718438899\n"
			+ "14493826652198\n"
			+ "14496406078294\n"
			+ "14366662764550\n"
			+ "14739769073435\n"
			+ "21681027173617\n"
			+ "28106019159590\n"
			+ "17482132974237\n"
			+ "19596844421763\n"
			+ "21511191483509\n"
			+ "20765421815466\n"
			+ "19278541031896\n"
			+ "20089377152759\n"
			+ "20195127674441\n"
			+ "20822958338397\n"
			+ "33645203796446\n"
			+ "38255229645481\n"
			+ "22309839121967\n"
			+ "23412267932012\n"
			+ "25770962344753";

	static Logger logger = LoggerFactory.getLogger(DayNine.class);
			
	static long[] numbers;
	private static final int PREAMBLE = 25;
	static {
		String[] n = INPUT.split("\n");
		numbers = new long[n.length];
		int i=0;
		for (String s : n) {
			numbers[i++] = Long.parseLong(s);
		}
	}
	
	private static boolean check(long sum, int pos, int distance) {
		
		for (int d = distance; d>0; d--) {
			logger.debug("comparing {} to {}", pos, pos+d);
			if (sum == numbers[pos] + numbers[pos + d]) {
				return true;
			}
		}
		if (distance > 1) {
			if (check(sum, pos+1, distance - 1)) {
				return true;
			}
		}
		return false;
	}
	
	static boolean check(int pos) {
		long sum = numbers[pos];
		for (int i = PREAMBLE; i>0; i--) {
			if (check(sum, pos - i, 24)) {
				return true;
			}
		}
		return false;
	}
	
	public static void main(String[] args) {
		for (int i=25; i<numbers.length; i++ ) {
			if (!check(i)) {
				System.out.println("wrong number is " + numbers[i]);
				break;
			}
		}
	}


}
